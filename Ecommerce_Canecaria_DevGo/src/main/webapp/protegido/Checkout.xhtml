<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">


    <h:head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Canecaria - Finalizar Compra</title>
        <meta name="description" content="Your Description Here" />
        <meta name="keywords" content="bootstrap themes, portfolio, responsive theme" />
        <meta name="author" content="ThemeForces.Com" />

        <!-- Favicons
        ================================================== -->
        <link rel="shortcut icon" href="../img/caneca.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="../img/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png" />

        <!-- Bootstrap -->
        <link rel="stylesheet" type="text/css"  href="../css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="../fonts/font-awesome/css/font-awesome.css" />

        <!-- Stylesheet
        ================================================== -->
        <link rel="stylesheet" type="text/css"  href="../css/cabecalho-rodape.css" />
        <link rel="stylesheet" type="text/css"  href="../css/checkout.css" />

        <script type="text/javascript" src="../js/funcoes.js"></script>


        <link href='http://fonts.googleapis.com/css?family=Raleway:500,600,700,100,800,900,400,200,300' rel='stylesheet' type='text/css' />
        <link href='http://fonts.googleapis.com/css?family=Playball' rel='stylesheet' type='text/css' />

        <!-- jQuery -->
        <script src="../js/jquery.js"></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="../js/bootstrap.min.js"></script>

    </h:head>
    <h:body>

        <div id="page">


            <!-- Importando o cabecalho -->
            <div id="header">
                <ui:insert name="cabecalho">
                    <ui:include src="../cabecalhoViewCliente.xhtml" />
                </ui:insert>
            </div>

            <!-- Fim -->

            <!-- Conteudo da pagina -->
            <div id="content">




                <div class="container">	



                    <div class="row">	  
                        <h:form id="formDois" prependId="false" enctype="multipart/form-data">


                            <div id="wrap">

                                <div id="grid">

                                    <p:messages id="messages" showDetail="true" showSummary="false" autoUpdate="true" />

                                    <div class="column column1">
                                        <div class="step" id="step1">
                                            <div class="number">
                                                <span>1</span>
                                            </div>
                                            <div class="title">
                                                <h2>Endereço de entrega</h2>
                                            </div>
                                            <!--<div class="modify">
                                                <i class="fa fa-plus-circle"></i>
                                            </div> -->
                                        </div>
                                        <div class="content" id="email">



                                            <!--<h:panelGrid columns="2" style="margin-bottom:10px; font-size: 12px; background: white" cellpadding="5">
                                                <h:outputText value="Entregar no meu endereço: " />
                                                <p:selectBooleanCheckbox value="#{selectBooleanView.value1}" />
                                                
                                            </h:panelGrid> -->


                                            <div>



                                                <h:inputText pt:type="number" class="form-control" id="CEP"
                                                             required="true" requiredMessage="O campo CEP é obrigatório!" value = "#{finalizarCompraBean.finalizarCompra.cep}" pt:placeholder="Digite o CEP"
                                                             onblur="pesquisacep(this.value);" onkeypress="return somenteNumero(event)"
                                                             style="margin-bottom:5px"

                                                             validatorMessage="O campo CEP deve ter no máximo 8 digitos!">

                                                    <f:validateLength maximum="8"  />

                                                </h:inputText>

                                                <label class="cep" for="CEP">CEP</label>


                                            </div>

                                            <div>


                                                <h:inputText pt:type="text" class="form-control"
                                                             required="true" requiredMessage="O campo Rua é obrigatório!" value = "#{finalizarCompraBean.finalizarCompra.rua}" id="rua" onkeypress="return somenteLetras(event)" pt:placeholder="Digite a rua" style="margin-bottom:5px" validatorMessage="O campo Rua deve ter no máximo 200 caracteres!">

                                                    <f:validateLength maximum="200"  />

                                                </h:inputText>

                                                <label class="Rua" for="Rua">Rua</label>

                                            </div>

                                            <div>

                                                <h:inputText pt:type="text" class="form-control" id="Numero" onkeypress="return somenteNumero(event)"
                                                             required="true" requiredMessage="O campo Número é obrigatório!" value = "#{finalizarCompraBean.finalizarCompra.numero}" pt:placeholder="Digite o número" style="margin-bottom:5px" validatorMessage="O campo Número deve ter no máximo 20 digitos!">

                                                    <f:validateLength maximum="20"  />

                                                </h:inputText>

                                                <label class="numero" for="numero">Número</label>
                                            </div>

                                            <div>


                                                <h:inputText pt:type="text" class="form-control" pt:placeholder="Digite o bairro" onkeypress="return somenteLetras(event)"
                                                             required="true" requiredMessage="O campo Bairro é obrigatório!" value = "#{finalizarCompraBean.finalizarCompra.bairro}" id="bairro" style="margin-bottom:5px" validatorMessage="O campo Bairro deve ter no máximo 100 caracteres!">

                                                    <f:validateLength maximum="100"  />

                                                </h:inputText>
                                                <label class="bairro" for="Bairro">Bairro</label>
                                            </div>
                                            <div>

                                                <h:inputText pt:type="text" class="form-control" pt:placeholder="Digite a cidade" onkeypress="return somenteLetras(event)"
                                                             required="true" requiredMessage="O campo Cidade é obrigatório!" value = "#{finalizarCompraBean.finalizarCompra.cidade}" id="cidade" style="margin-bottom:5px" validatorMessage="O campo Cidade deve ter no máximo 100 caracteres!">

                                                    <f:validateLength maximum="100"  />

                                                </h:inputText>

                                                <label class="cidade" for="cidade">Cidade</label>
                                            </div>
                                            <div>


                                                <h:inputText pt:type="text" class="form-control" id="uf" pt:placeholder="Ex:SP" onkeypress="return somenteLetras(event)"
                                                             required="true" requiredMessage="O campo Estado é obrigatório!" value = "#{finalizarCompraBean.finalizarCompra.estado}" style="margin-bottom:5px"   validatorMessage="O campo Estado deve ter no máximo 30 caracteres!">

                                                    <f:validateLength maximum="30"  />

                                                </h:inputText>

                                                <label class="uf" for="uf">Estado</label>
                                            </div>

                                            <!--
                                            <div class="continue" id="btn">
                                                <h:commandButton pt:type="submit" value="Continue" action = "#{finalizarCompraBean.estado()}">
                                                    <f:ajax execute="@form" render="@form :resumo" />
                                                </h:commandButton>
                                            </div>
                                            -->

                                            <!-- </h:form> -->

                                        </div>
                                    </div>
                                    <div class="column column2">
                                        <div class="step" id="step2">
                                            <div class="number">
                                                <span>2</span>
                                            </div>
                                            <div class="title">
                                                <h2>Forma de Pagamento</h2>
                                            </div>
                                            <!-- <div class="modify">
                                                <i class="fa fa-plus-circle"></i>
                                            </div> -->
                                        </div>
                                        <div class="content" id="payment">
                                            <div class="left">
                                                <!-- <h:form class="go-right"> -->


                                                <div class="form-group col-md-12" id="formaPagamento">

                                                    <h:selectOneMenu class="form-control" required="true" requiredMessage="Selecione a forma de pagamento!" id="Pagamento" value="#{finalizarCompraBean.finalizarCompra.codPagamento}" converter="javax.faces.Integer">
                                                        <f:selectItem itemValue="" itemLabel="Selecione..."  />
                                                        <f:selectItems  value="#{PagamentoBean.ListarTipoPagamento()}" var="pagamento" itemLabel="#{pagamento.forma_pagamento}" itemValue="#{pagamento.cod_pagamento}"/>

                                                    </h:selectOneMenu>



                                                </div>

                                                <div>
                                                    <input type="text" name="card_number" value="" id="card_number" placeholder="xxxx-xxxx-xxxx-xxxx" data-trigger="change" data-validation-minlength="1" data-type="name" data-required="true" data-error-message="Enter Your Credit Card Number"/><label for="card_number">Card Number</label>
                                                </div>
                                                <div>
                                                    <div class="expiry">	
                                                        <div class="month_select">
                                                            <select name="exp_month" value="" id="exp_month" placeholder="" data-trigger="change" data-type="name" data-required="true" data-error-message="Enter Your Credit Card Expiration Date">
                                                                <option value = "1">01 (Jan)</option>
                                                                <option value = "2">02 (Fev)</option>
                                                                <option value = "3">03 (Mar)</option>
                                                                <option value = "4">04 (Abr)</option>
                                                                <option value = "5">05 (Mai)</option>
                                                                <option value = "6">06 (Jun)</option>
                                                                <option value = "7">07 (Jul)</option>
                                                                <option value = "8">08 (Ago)</option>
                                                                <option value = "9">09 (Set)</option>
                                                                <option value = "10">10 (Out)</option>
                                                                <option value = "11">11 (Nov)</option>
                                                                <option value = "12">12 (Dez)</option>
                                                            </select>

                                                        </div>
                                                        <div class="year_select">
                                                            <select name="exp_year" value="" id="exp_year" placeholder="" data-trigger="change" data-type="name" data-required="true" data-error-message="Enter Your Credit Card Expiration Date">
                                                                <option value = "1">17</option>
                                                                <option value = "2">18</option>
                                                                <option value = "3">19</option>
                                                                <option value = "4">20</option>
                                                                <option value = "5">21</option>
                                                                <option value = "6">22</option>
                                                                <option value = "7">23</option>
                                                                <option value = "8">24</option>
                                                                <option value = "9">25</option>
                                                                <option value = "10">26</option>
                                                                <option value = "11">27</option>
                                                                <option value = "12">28</option>
                                                            </select>
                                                        </div>
                                                        <label class="exp_date" for="Exp_Date">Expiração</label>
                                                    </div>
                                                </div>
                                                <div class="sec_num">
                                                    <div>
                                                        <input type="text" name="ccv" value="" id="ccv" placeholder="123" data-trigger="change" data-validation-minlength="3" data-type="name" data-required="true" data-error-message="Enter Your Card Security Code"/><label for="ccv">Código de Segurança</label>
                                                    </div>
                                                </div>

                                                <!-- <div class="continue" id="btn">
                                                     <h:commandButton pt:type="submit" value="Continue" action = "#{finalizarCompraBean.estado()}">
                                                         <f:ajax execute="@form" render="@form :resumo" />
                                                     </h:commandButton>
                                                 </div>
                                                
                                                -->

                                                <!-- </h:form> -->


                                            </div>

                                            <div class="right">
                                                <div class="accepted">
                                                    <span><img src="img/Z5HVIOt.png"/></span>
                                                    <span><img src="img/Le0Vvgx.png"/></span>
                                                    <span><img src="img/Boleto1.jpg"/></span>
                                                    <span><img src="img/Pu4e7AT.png"/></span>
                                                    <span><img src="img/ewMjaHv.png"/></span>
                                                    <span><img src="img/3LmmFFV.png"/></span>
                                                </div>
                                                <div class="secured">
                                                    <img class="lock" src="img/lock.png"/>
                                                    <p class="security info">Os seus dados de pagamento estão seguros aqui, possuímos o certificado de segurança que a todo ano é renovado com intuíto de garantir que suas informações não sejam destinadas a terceiros. </p>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="column column3">
                                        <div class="step" id="step5">
                                            <div class="number">
                                                <span>3</span>
                                            </div>
                                            <div class="title">
                                                <h2>Resumo do pedido</h2>
                                            </div>
                                            <!-- <div class="modify">
                                                 <i class="fa fa-plus-circle"></i>
                                             </div> -->
                                        </div>
                                        <div class="content" id="final_products">
                                            <div class="left" id="ordered">
                                                <div class="products">

                                                    <h5> Produtos  </h5>
                                                    <!-- <div class="product_image">
                                                         <img src="img/caneca.png"/>
                                                     </div> -->

                                                    <ui:repeat value="#{finalizarCompraBean.ListarResumoPedidos()}" var="ped">
                                                        <h:panelGrid columns="2" style="width:100%"  columnClasses="logo,detail">
                                                            <p:outputPanel>
                                                                <h:panelGrid columns="2" cellpadding="5" style="font-size:11px;color: #333" >
                                                                    <h:outputText value="Nome: "  />
                                                                    <h:outputText value="#{ped.nomeProduto}" />

                                                                    <h:outputText value="Quantidade: "   />
                                                                    <h:outputText value="#{ped.quantidadeProduto}" />

                                                                    <h:outputText value="Subtotal: "  />
                                                                    <h:outputText value="#{ped.subtotal}" style="font-size:12px" > <f:convertNumber type="currency" locale="pt-BR"  /> 
                                                                    </h:outputText> 
                                                                </h:panelGrid>
                                                            </p:outputPanel>
                                                        </h:panelGrid>
                                                        <hr />
                                                    </ui:repeat>

                                                </div>
                                                <!-- <div class="totals">
                                                    <span class="subtitle">Subtotal <span id="sub_price">R$45,00</span></span>
                                                    <span class="subtitle">Taxas <span id="sub_tax">R$2,00</span></span>
                                                    <span class="subtitle">Remessa <span id="sub_ship">$4,00</span></span>
                                                </div> -->
                                                <div class="final">
                                                    <span class="title">Total <span id="calculated_total"> <h:outputText value="#{finalizarCompraBean.ValorTotalCompra()}"> <f:convertNumber type="currency" locale="pt-BR"  /> 
                                                            </h:outputText></span></span>
                                                </div>

                                            </div>	

                                            <hr />
                                            <!-- <h:form id="resumo"> --> 

                                            <div class="right" id="reviewed">
                                                <!-- <div class="billing">
                                                     <h5> Entrega  </h5>
                                                   
 
                                                     <h:panelGrid columns="2" style="width:100%"  columnClasses="logo,detail">
                                                         <p:outputPanel>
                                                             <h:panelGrid columns="2" cellpadding="5" style="font-size:11px;color: #333" >
                                                                 <h:outputText value="Cidade: "  />
                                                                 <h:outputText value="#{finalizarCompraBean.finalizarCompra.cidade}" />
 
                                                                 <h:outputText value="CEP: "   />
                                                                 <h:outputText value="#{finalizarCompraBean.finalizarCompra.cep}" />
 
                                                                 <h:outputText value="Rua: "   />
                                                                 <h:outputText value="#{finalizarCompraBean.finalizarCompra.rua}" />
 
                                                                 <h:outputText value="Número: "   />
                                                                 <h:outputText value="#{finalizarCompraBean.finalizarCompra.numero}" />
 
 
                                                             </h:panelGrid>
                                                         </p:outputPanel>
                                                     </h:panelGrid>
 
                                                     <hr />
                                                     </div>
                                                 </div> -->
                                                <hr />


                                                <!--<div class="shipping">
                                                    <span class="title">Remessa:</span>
                                                    <div class="address_reviewed">
                                                         <span class="name">John Smith</span>
                                                        <span class="address">#{finalizarCompraBean.finalizarCompra.cidade} </span>
                                                        <span class="location">Everytown, USA, 12345</span>
                                                        <span class="phone">(123)867-5309</span>
                                                    </div>
                                                </div>-->


                                                <!--<div class="payment">


                                                    

                                                    <h5> Pagamento </h5>
                                                    

                                                    <h:panelGrid columns="2" style="width:100%"  columnClasses="logo,detail">
                                                        <p:outputPanel>
                                                            <h:panelGrid columns="2" cellpadding="6" style="font-size:11px;color: #333" >
                                                                <h:outputText value="Forma: "  />

                                                                <c:choose>
                                                                    <c:when test="${finalizarCompraBean.finalizarCompra.codPagamento == 1}"> Boleto</c:when>
                                                                    <c:when test="${finalizarCompraBean.finalizarCompra.codPagamento == 2}"> Cartao de crédito</c:when>
                                                                    <c:when test="${finalizarCompraBean.finalizarCompra.codPagamento == 3}"> Cartão de débito</c:when>

                                                                </c:choose>
                                                            </h:panelGrid>
                                                        </p:outputPanel>
                                                    </h:panelGrid>
                                                    <hr />
                                                     </div>
                                                </div> -->




                                                <div id="complete">

                                                    <a class="continue">
                                                        <h:commandButton pt:type="submit" action="CheckoutCodigo.xhtml" actionListener="#{finalizarCompraBean.CadastrarCompra()}" value="Finalizar"></h:commandButton>

                                                    </a>
                                                    <span class="sub">Ao selecionar este botão, você concorda com a compra eo pagamento subsequente para este pedido.</span> 
                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                </div>

                            </div>


                        </h:form>
                    </div>




                </div>


                <hr />



                <!-- Fim -->
            </div>

            <!-- Importando o rodape -->
            <div id="footer">
                <ui:insert name="rodape" >
                    <ui:include src="../rodape.xhtml" />
                </ui:insert>
            </div>
            <!-- Fim -->

        </div>

    </h:body>

</html>
